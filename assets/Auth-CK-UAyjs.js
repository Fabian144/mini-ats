import{e as B,r,j as e,L,f as C,g as S}from"./vendor-radix-og3wzDO_.js";import{c as x,u as D,a as U}from"./index-QOa0XFRL.js";import{B as g}from"./button-DyABUjjI.js";import{U as P,L as o,I as d}from"./label-Cqlawg_Y.js";import{C as H,a as K,b as V,c as G,d as M}from"./card-BmOqFtM6.js";import{b as O}from"./vendor-react-DChhcE8F.js";import{B as z}from"./briefcase-DaCKP-EU.js";import"./vendor-supabase-6c5mf4pY.js";import"./vendor-recharts-qYF2F-lo.js";import"./vendor-query-CUB_NE-9.js";const J=B,T=r.forwardRef(({className:t,...i},a)=>e.jsx(L,{ref:a,className:x("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i}));T.displayName=L.displayName;const p=r.forwardRef(({className:t,...i},a)=>e.jsx(C,{ref:a,className:x("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...i}));p.displayName=C.displayName;const f=r.forwardRef(({className:t,...i},a)=>e.jsx(S,{ref:a,className:x("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i}));f.displayName=S.displayName;function ae(){const[t,i]=r.useState(""),[a,h]=r.useState(""),[v,R]=r.useState(""),[c,m]=r.useState(!1),[j,b]=r.useState(!1),{signIn:y,signUp:E,resetPassword:F,user:N,loading:k}=D(),u=O(),{toast:n}=U();r.useEffect(()=>{!k&&N&&u("/dashboard",{replace:!0})},[k,u,N]);const I=async s=>{s.preventDefault(),m(!0);const{error:l}=await y(t,a);l?n({title:"Inloggning misslyckades",description:l.message,variant:"destructive"}):u("/dashboard"),m(!1)},q=async s=>{s.preventDefault(),m(!0);const{error:l}=await E(t,a,v);if(l)n({title:"Registrering misslyckades",description:l.message,variant:"destructive"});else{const{error:w}=await y(t,a);w?n({title:"Kunde inte logga in",description:w.message,variant:"destructive"}):u("/dashboard")}m(!1)},A=async()=>{if(!t.trim()){n({title:"Ange din e-post",description:"Fyll i din e-postadress för att återställa lösenordet.",variant:"destructive"});return}b(!0);const{error:s}=await F(t.trim());n(s?{title:"Kunde inte skicka återställning",description:s.message,variant:"destructive"}:{title:"E-post skickad",description:"Om ett konto med den angivna e-postadressen existerar så har en återställningslänk skickats dit."}),b(!1)};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:e.jsx(P,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"TalentTrack"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Ditt smarta rekryteringsverktyg"})]}),e.jsxs(H,{className:"glass-card",children:[e.jsxs(K,{className:"text-center pb-2",children:[e.jsx(V,{children:"Välkommen"}),e.jsx(G,{children:"Logga in eller skapa ett konto"})]}),e.jsx(M,{children:e.jsxs(J,{defaultValue:"login",className:"w-full",children:[e.jsxs(T,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(p,{value:"login",children:"Logga in"}),e.jsx(p,{value:"register",children:"Registrera konto"})]}),e.jsx(f,{value:"login",children:e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"login-email",children:"E-post"}),e.jsx(d,{id:"login-email",type:"email",placeholder:"din@email.se",value:t,onChange:s=>i(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"login-password",children:"Lösenord"}),e.jsx(d,{id:"login-password",type:"password",placeholder:"••••••••",value:a,onChange:s=>h(s.target.value),required:!0})]}),e.jsx(g,{type:"button",variant:"link",className:"px-0",onClick:A,disabled:j,children:j?"Skickar återställningslänk...":"Glömt lösenordet?"}),e.jsx(g,{type:"submit",className:"w-full",disabled:c,children:c?"Loggar in...":"Logga in"})]})}),e.jsx(f,{value:"register",children:e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"register-name",children:"Fullständigt namn"}),e.jsx(d,{id:"register-name",type:"text",placeholder:"Anna Andersson",value:v,onChange:s=>R(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"register-email",children:"E-post"}),e.jsx(d,{id:"register-email",type:"email",placeholder:"din@email.se",value:t,onChange:s=>i(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"register-password",children:"Lösenord"}),e.jsx(d,{id:"register-password",type:"password",placeholder:"Minst 6 tecken",value:a,onChange:s=>h(s.target.value),required:!0,minLength:6})]}),e.jsx(g,{type:"submit",className:"w-full",disabled:c,children:c?"Skapar konto...":"Skapa konto"})]})})]})})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[e.jsx(z,{className:"inline w-4 h-4 mr-1"}),"Hantera kandidater enkelt och effektivt"]})]})})}export{ae as default};
