import{e as q,r,j as e,L as k,f as w,g as C}from"./vendor-radix-DY4qudGL.js";import{c as f,u as A,a as B}from"./index-mAFw_Uzw.js";import{U as D,I as o,B as u}from"./input-h_5tXWFu.js";import{C as U,a as P,b as H,c as K,d as V,L as d}from"./card-BUn8DwcO.js";import{u as G}from"./vendor-react-EpQGxqdE.js";import{B as M}from"./briefcase-RTyYyln2.js";import"./vendor-supabase-6c5mf4pY.js";import"./vendor-recharts-zFAyUZWb.js";import"./vendor-query-CH72qb2W.js";const O=q,L=r.forwardRef(({className:t,...i},a)=>e.jsx(k,{ref:a,className:f("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i}));L.displayName=k.displayName;const g=r.forwardRef(({className:t,...i},a)=>e.jsx(w,{ref:a,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...i}));g.displayName=w.displayName;const p=r.forwardRef(({className:t,...i},a)=>e.jsx(C,{ref:a,className:f("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i}));p.displayName=C.displayName;function ee(){const[t,i]=r.useState(""),[a,x]=r.useState(""),[h,S]=r.useState(""),[c,m]=r.useState(!1),[v,j]=r.useState(!1),{signIn:b,signUp:T,resetPassword:R}=A(),y=G(),{toast:n}=B(),F=async s=>{s.preventDefault(),m(!0);const{error:l}=await b(t,a);l?n({title:"Inloggning misslyckades",description:l.message,variant:"destructive"}):y("/dashboard"),m(!1)},E=async s=>{s.preventDefault(),m(!0);const{error:l}=await T(t,a,h);if(l)n({title:"Registrering misslyckades",description:l.message,variant:"destructive"});else{const{error:N}=await b(t,a);N?n({title:"Kunde inte logga in",description:N.message,variant:"destructive"}):y("/dashboard")}m(!1)},I=async()=>{if(!t.trim()){n({title:"Ange din e-post",description:"Fyll i e-postadressen för att återställa lösenordet.",variant:"destructive"});return}j(!0);const{error:s}=await R(t.trim());n(s?{title:"Kunde inte skicka återställning",description:s.message,variant:"destructive"}:{title:"E-post skickad",description:"Om ett konto med den angivna e-postadressen existerar så har en återställningslänk skickats dit."}),j(!1)};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:e.jsx(D,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"TalentTrack"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Ditt smarta rekryteringsverktyg"})]}),e.jsxs(U,{className:"glass-card",children:[e.jsxs(P,{className:"text-center pb-2",children:[e.jsx(H,{children:"Välkommen"}),e.jsx(K,{children:"Logga in eller skapa ett konto"})]}),e.jsx(V,{children:e.jsxs(O,{defaultValue:"login",className:"w-full",children:[e.jsxs(L,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(g,{value:"login",children:"Logga in"}),e.jsx(g,{value:"register",children:"Registrera konto"})]}),e.jsx(p,{value:"login",children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"login-email",children:"E-post"}),e.jsx(o,{id:"login-email",type:"email",placeholder:"din@email.se",value:t,onChange:s=>i(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"login-password",children:"Lösenord"}),e.jsx(o,{id:"login-password",type:"password",placeholder:"••••••••",value:a,onChange:s=>x(s.target.value),required:!0})]}),e.jsx(u,{type:"button",variant:"link",className:"px-0",onClick:I,disabled:v,children:v?"Skickar återställningslänk...":"Glömt lösenordet?"}),e.jsx(u,{type:"submit",className:"w-full",disabled:c,children:c?"Loggar in...":"Logga in"})]})}),e.jsx(p,{value:"register",children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"register-name",children:"Fullständigt namn"}),e.jsx(o,{id:"register-name",type:"text",placeholder:"Anna Andersson",value:h,onChange:s=>S(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"register-email",children:"E-post"}),e.jsx(o,{id:"register-email",type:"email",placeholder:"din@email.se",value:t,onChange:s=>i(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"register-password",children:"Lösenord"}),e.jsx(o,{id:"register-password",type:"password",placeholder:"Minst 6 tecken",value:a,onChange:s=>x(s.target.value),required:!0,minLength:6})]}),e.jsx(u,{type:"submit",className:"w-full",disabled:c,children:c?"Skapar konto...":"Skapa konto"})]})})]})})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[e.jsx(M,{className:"inline w-4 h-4 mr-1"}),"Hantera kandidater enkelt och effektivt"]})]})})}export{ee as default};
